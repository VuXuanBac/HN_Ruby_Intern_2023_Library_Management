<% provide :title, t(".title") %>
<% book = Book.new %>
<% dom_book = dom_id(book) %>
<div class="col-12">
  <%= render "admin/shared/back_button", name: t("admin.default.books_list"), path: admin_books_path %>
  <div class="card">
    <div class="card-body">
      <%= form_with model: book, url: admin_books_path, local: true do |f| %>
        <div class="row">
          <div class="col-lg-4">
            <div class="border-right pe-3 d-flex flex-column align-items-center">
              <img class="mb-6 file-preview" data-preview-for="<%= dom_book %>-chooser" >
              <button class="file-input-replacer btn btn-primary mt-3" data-replace-for="<%= dom_book %>-chooser" >
                <%= t "admin.default.upload", name: t("books.cover").downcase %>
              </button>
              <%= f.file_field :image, id: "#{dom_book}-chooser", accept: Settings.validations.image_type.join(","), multiple: false, class: "file-chooser d-none" %>
            </div>
          </div>
          <div class="col-lg-8">
            <!-- Basic Info -->
            <div class="">
              <div class="form-group">
                <%= f.label :title %>
                <%= f.text_field :title, class: "form-control", placeholder: t("books.title") %>
              </div>
              <div class="form-group">
                <%= f.label :description %>
                <%= f.text_area :description, class: "form-control", placeholder: t("books.description") %>
              </div>
              <div class="form-group">
                <%= f.label :publish_date %>
                <%= f.date_field :publish_date, class: "form-control" %>
              </div>
              <div class="form-group">
                <%= f.label :amount %>
                <%= f.number_field :amount, min: 0, class: "form-control", placeholder: t("books.amount") %>
              </div>
              <div class="form-group">
                <%= f.label :isbn %>
                <%= f.text_field :isbn, pattern: Settings.validations.isbn_regex, class: "form-control", placeholder: t("books.isbn") %>
              </div>
            </div>
            <!-- Author -->
          </div>
        </div>
        <div class="row mt-5 d-flex flex-row justify-content-end">
          <%= f.submit t(".submit"), class: "btn btn-success btn-control" %>
          <%= link_to t(".cancel"), admin_books_path, class: "btn btn-info btn-control",
              data: { turbo_confirm: t(".cancel_confirm") } %>
        </div>
      <% end %>
    </div>
  </div>
</div>
