<% provide(:title, t("library")) %>

<div>
  <% breadcrumb :books, @books %>
  <h1><%= t "library" %></h1>
  <div class="search d-flex">
    <%= form_with url: "/search", method: :get, class: "d-flex flex-grow-1 me-2 position-relative" do |form| %>
      <%= form.text_field :query, class: "form-control flex-grow-1 pe-5", autocomplete: "off", placeholder: t("search") %>
      <%= button_tag type: "submit", class: "btn btn-outline-primary position-absolute end-0" do %>
        <i class="fa-solid fa-magnifying-glass"></i>
      <% end %>
    <% end %>
    <%= select_tag :search_option, options_for_select([t("all"), t("title"), t("description"), t("author"), t("publisher"), t("genre")]), class: "form-select w-auto custom-select"%>
  </div>
  <div class="filter text-center mt-4">
    <div class="filter-letter">
      <% ('A'..'Z').each do |letter| %>
        <a href="#" class="mx-1"><%= letter %></a>
      <% end %>
      <a href="#" class="mx-1"><%= t "all" %></a>
    </div>
  </div>
  <div class="d-flex justify-content-center mt-4">
    <%== pagy_bootstrap_nav(@pagy) %>
  </div>
  <div class="mb-5">
    <div class="mt-1 row row-cols-1 row-cols-md-5 g-4">
      <% @books.each do |book| %>
        <div class="col">
          <%= render "shared/book_card", book: book %>
        </div>
      <% end %>
    </div>
  </div>
</div>
